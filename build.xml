<?xml version="1.0" encoding="UTF-8"?>

<project name="nation" default="full-suite" basedir=".">

    <!-- GLOBAL VARIABLES -->
    <property name="source" value="app" />
    <!-- END -->

    <!-- AVAILABLE COMMANDS -->
    <target name="full-suite" depends="date, composer" />
    <!-- END -->

    <!-- DATE -->
    <target name="date">
        <echo message="Printing system date ..."/>
        <exec executable="date" />
    </target>
    <!-- END -->

    <!-- COMPOSER -->
    <target name="composer">
        <echo message="Download composer ..." />
        <exec executable="wget" failonerror="true">
            <arg value="-nc" />
            <arg value="https://getcomposer.org/composer.phar" />
        </exec>
        <echo message="Running composer self-update ..." />
        <exec executable="/var/lib/jenkins/composer">
            <arg value="self-update" />
        </exec>
        <echo message="Running composer install ..." />
        <exec executable="/var/lib/jenkins/composer" failonerror="true">
            <arg value="install" />
            <arg value="--no-interaction" />
        </exec>
    </target>
    <!-- END -->
</project>